// Modify the stock part "ISRU" from GameData/Squad/Parts/Resources/ISRU/ISRU.cfg
@PART[ISRU]:NEEDS[RealFuels]
{
    // Aerozine50 + NTO
    MODULE
    {
        name = ModuleResourceConverter
        ConverterName = Aerozine50+NTO
        StartActionName = Start ISRU [Aerozine50+NTO]
        StopActionName = Stop ISRU [Aerozine50+NTO]
        AutoShutdown = true
        TemperatureModifier
        {
            key = 0 100000
            key = 750 50000
            key = 1000 10000
            key = 1250 500
            key = 2000 50
            key = 4000 0
        }
        GeneratesHeat = true
        DefaultShutoffTemp = .8
        ThermalEfficiency
        {
            key = 0 0 0 0
            key = 500 0.1 0 0
            key = 1000 1.0 0 0
            key = 1250 0.1 0 0
            key = 3000 0 0 0
        }


        UseSpecialistBonus = true
        SpecialistEfficiencyFactor = 0.2
        SpecialistBonusBase = 0.05
        UseSpecialistHeatBonus = true
        SpecialistHeatFactor = 0.1
        ExperienceEffect = ConverterSkill
        EfficiencyBonus = 1
        resourceOutputName = Aerozine50+NTO


        INPUT_RESOURCE
        {
            ResourceName = Ore
            Ratio = 0.5
            FlowMode = STAGE_PRIORITY_FLOW
        }
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 30
        }
        OUTPUT_RESOURCE
        {
            ResourceName = Aerozine50
            Ratio = 0.45
            DumpExcess = false
            FlowMode = STAGE_PRIORITY_FLOW
        }
        OUTPUT_RESOURCE
        {
            ResourceName = NTO
            Ratio = 0.55
            DumpExcess = false
            FlowMode = STAGE_PRIORITY_FLOW
        }
    }

    // Kerosene + LqdOxygen
    MODULE
    {
        name = ModuleResourceConverter
        ConverterName = Kerosene+LqdOxygen
        StartActionName = Start ISRU [Kerosene+LqdOxygen]
        StopActionName = Stop ISRU [Kerosene+LqdOxygen]
        AutoShutdown = true
        TemperatureModifier
        {
            key = 0 100000
            key = 750 50000
            key = 1000 10000
            key = 1250 500
            key = 2000 50
            key = 4000 0
        }
        GeneratesHeat = true
        DefaultShutoffTemp = .8
        ThermalEfficiency
        {
            key = 0 0 0 0
            key = 500 0.1 0 0
            key = 1000 1.0 0 0
            key = 1250 0.1 0 0
            key = 3000 0 0 0
        }


        UseSpecialistBonus = true
        SpecialistEfficiencyFactor = 0.2
        SpecialistBonusBase = 0.05
        UseSpecialistHeatBonus = true
        SpecialistHeatFactor = 0.1
        ExperienceEffect = ConverterSkill
        EfficiencyBonus = 1
        resourceOutputName = Kerosene+LqdOxygen


        INPUT_RESOURCE
        {
            ResourceName = Ore
            Ratio = 0.5
            FlowMode = STAGE_PRIORITY_FLOW
        }
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 30
        }
        OUTPUT_RESOURCE
        {
            ResourceName = Kerosene
            Ratio = 0.45
            DumpExcess = false
            FlowMode = STAGE_PRIORITY_FLOW
        }
        OUTPUT_RESOURCE
        {
            ResourceName = LqdOxygen
            Ratio = 0.55
            DumpExcess = false
            FlowMode = STAGE_PRIORITY_FLOW
        }
    }

    // Ethanol75 + LqdOxygen
    MODULE
    {
        name = ModuleResourceConverter
        ConverterName = Ethanol75+LqdOxygen
        StartActionName = Start ISRU [Ethanol75+LqdOxygen]
        StopActionName = Stop ISRU [Ethanol75+LqdOxygen]
        AutoShutdown = true
        TemperatureModifier
        {
            key = 0 100000
            key = 750 50000
            key = 1000 10000
            key = 1250 500
            key = 2000 50
            key = 4000 0
        }
        GeneratesHeat = true
        DefaultShutoffTemp = .8
        ThermalEfficiency
        {
            key = 0 0 0 0
            key = 500 0.1 0 0
            key = 1000 1.0 0 0
            key = 1250 0.1 0 0
            key = 3000 0 0 0
        }


        UseSpecialistBonus = true
        SpecialistEfficiencyFactor = 0.2
        SpecialistBonusBase = 0.05
        UseSpecialistHeatBonus = true
        SpecialistHeatFactor = 0.1
        ExperienceEffect = ConverterSkill
        EfficiencyBonus = 1
        resourceOutputName = Ethanol75+LqdOxygen


        INPUT_RESOURCE
        {
            ResourceName = Ore
            Ratio = 0.5
            FlowMode = STAGE_PRIORITY_FLOW
        }
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 30
        }
        OUTPUT_RESOURCE
        {
            ResourceName = Ethanol75
            Ratio = 0.53
            DumpExcess = false
            FlowMode = STAGE_PRIORITY_FLOW
        }
        OUTPUT_RESOURCE
        {
            ResourceName = LqdOxygen
            Ratio = 0.47
            DumpExcess = false
            FlowMode = STAGE_PRIORITY_FLOW
        }
    }

    // HTP
    MODULE
    {
        name = ModuleResourceConverter
        ConverterName = HTP
        StartActionName = Start ISRU [HTP]
        StopActionName = Stop ISRU [HTP]
        AutoShutdown = true
        TemperatureModifier
        {
            key = 0 100000
            key = 750 50000
            key = 1000 10000
            key = 1250 500
            key = 2000 50
            key = 4000 0
        }
        GeneratesHeat = true
        DefaultShutoffTemp = .8
        ThermalEfficiency
        {
            key = 0 0 0 0
            key = 500 0.1 0 0
            key = 1000 1.0 0 0
            key = 1250 0.1 0 0
            key = 3000 0 0 0
        }


        UseSpecialistBonus = true
        SpecialistEfficiencyFactor = 0.2
        SpecialistBonusBase = 0.05
        UseSpecialistHeatBonus = true
        SpecialistHeatFactor = 0.1
        ExperienceEffect = ConverterSkill
        EfficiencyBonus = 1
        resourceOutputName = HTP


        INPUT_RESOURCE
        {
            ResourceName = Ore
            Ratio = 0.5
            FlowMode = STAGE_PRIORITY_FLOW
        }
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 30
        }
        OUTPUT_RESOURCE
        {
            ResourceName = HTP
            Ratio = 1
            DumpExcess = false
            FlowMode = STAGE_PRIORITY_FLOW
        }
    }
}

// Modify the stock part "MiniISRU" from GameData/Squad/Parts/Resources/ISRU/MiniISRU.cfg
@PART[MiniISRU]:NEEDS[RealFuels]
{
    // Aerozine50 + NTO
    MODULE
    {
        name = ModuleResourceConverter
        ConverterName = Aerozine50+NTO
        StartActionName = Start ISRU [Aerozine50+NTO]
        StopActionName = Stop ISRU [Aerozine50+NTO]
        AutoShutdown = true
        TemperatureModifier
        {
            key = 0 100000
            key = 750 50000
            key = 1000 10000
            key = 1250 500
            key = 2000 50
            key = 4000 0
        }
        GeneratesHeat = true
        DefaultShutoffTemp = .8
        ThermalEfficiency
        {
            key = 0 0 0 0
            key = 500 0.1 0 0
            key = 1000 1.0 0 0
            key = 1250 0.1 0 0
            key = 3000 0 0 0
        }

        UseSpecialistBonus = true
        SpecialistEfficiencyFactor = 0.2
        SpecialistBonusBase = 0.05
        UseSpecialistHeatBonus = true
        SpecialistHeatFactor = 0.1
        ExperienceEffect = ConverterSkill
        EfficiencyBonus = 1
        resourceOutputName = Aerozine50+NTO

        INPUT_RESOURCE
        {
            ResourceName = Ore
            Ratio = 0.5
            FlowMode = STAGE_PRIORITY_FLOW
        }
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 30
        }
        OUTPUT_RESOURCE
        {
            ResourceName = Aerozine50
            Ratio = 0.225
            DumpExcess = false
            FlowMode = STAGE_PRIORITY_FLOW
        }
        OUTPUT_RESOURCE
        {
            ResourceName = NTO
            Ratio = 0.275
            DumpExcess = false
            FlowMode = STAGE_PRIORITY_FLOW
        }
    }

    // Kerosene + LqdOxygen
    MODULE
    {
        name = ModuleResourceConverter
        ConverterName = Kerosene+LqdOxygen
        StartActionName = Start ISRU [Kerosene+LqdOxygen]
        StopActionName = Stop ISRU [Kerosene+LqdOxygen]
        AutoShutdown = true
        TemperatureModifier
        {
            key = 0 100000
            key = 750 50000
            key = 1000 10000
            key = 1250 500
            key = 2000 50
            key = 4000 0
        }
        GeneratesHeat = true
        DefaultShutoffTemp = .8
        ThermalEfficiency
        {
            key = 0 0 0 0
            key = 500 0.1 0 0
            key = 1000 1.0 0 0
            key = 1250 0.1 0 0
            key = 3000 0 0 0
        }

        UseSpecialistBonus = true
        SpecialistEfficiencyFactor = 0.2
        SpecialistBonusBase = 0.05
        UseSpecialistHeatBonus = true
        SpecialistHeatFactor = 0.1
        ExperienceEffect = ConverterSkill
        EfficiencyBonus = 1
        resourceOutputName = Kerosene+LqdOxygen

        INPUT_RESOURCE
        {
            ResourceName = Ore
            Ratio = 0.5
            FlowMode = STAGE_PRIORITY_FLOW
        }
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 30
        }
        OUTPUT_RESOURCE
        {
            ResourceName = Kerosene
            Ratio = 0.225
            DumpExcess = false
            FlowMode = STAGE_PRIORITY_FLOW
        }
        OUTPUT_RESOURCE
        {
            ResourceName = LqdOxygen
            Ratio = 0.275
            DumpExcess = false
            FlowMode = STAGE_PRIORITY_FLOW
        }
    }

    // Ethanol75 + LqdOxygen
    MODULE
    {
        name = ModuleResourceConverter
        ConverterName = Ethanol75+LqdOxygen
        StartActionName = Start ISRU [Ethanol75+LqdOxygen]
        StopActionName = Stop ISRU [Ethanol75+LqdOxygen]
        AutoShutdown = true
        TemperatureModifier
        {
            key = 0 100000
            key = 750 50000
            key = 1000 10000
            key = 1250 500
            key = 2000 50
            key = 4000 0
        }
        GeneratesHeat = true
        DefaultShutoffTemp = .8
        ThermalEfficiency
        {
            key = 0 0 0 0
            key = 500 0.1 0 0
            key = 1000 1.0 0 0
            key = 1250 0.1 0 0
            key = 3000 0 0 0
        }


        UseSpecialistBonus = true
        SpecialistEfficiencyFactor = 0.2
        SpecialistBonusBase = 0.05
        UseSpecialistHeatBonus = true
        SpecialistHeatFactor = 0.1
        ExperienceEffect = ConverterSkill
        EfficiencyBonus = 1
        resourceOutputName = Ethanol75+LqdOxygen


        INPUT_RESOURCE
        {
            ResourceName = Ore
            Ratio = 0.5
            FlowMode = STAGE_PRIORITY_FLOW
        }
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 30
        }
        OUTPUT_RESOURCE
        {
            ResourceName = Ethanol75
            Ratio = 0.265
            DumpExcess = false
            FlowMode = STAGE_PRIORITY_FLOW
        }
        OUTPUT_RESOURCE
        {
            ResourceName = LqdOxygen
            Ratio = 0.235
            DumpExcess = false
            FlowMode = STAGE_PRIORITY_FLOW
        }
    }

    // HTP
    MODULE
    {
        name = ModuleResourceConverter
        ConverterName = HTP
        StartActionName = Start ISRU [HTP]
        StopActionName = Stop ISRU [HTP]
        AutoShutdown = true
        TemperatureModifier
        {
            key = 0 100000
            key = 750 50000
            key = 1000 10000
            key = 1250 500
            key = 2000 50
            key = 4000 0
        }
        GeneratesHeat = true
        DefaultShutoffTemp = .8
        ThermalEfficiency
        {
            key = 0 0 0 0
            key = 500 0.1 0 0
            key = 1000 1.0 0 0
            key = 1250 0.1 0 0
            key = 3000 0 0 0
        }


        UseSpecialistBonus = true
        SpecialistEfficiencyFactor = 0.2
        SpecialistBonusBase = 0.05
        UseSpecialistHeatBonus = true
        SpecialistHeatFactor = 0.1
        ExperienceEffect = ConverterSkill
        EfficiencyBonus = 1
        resourceOutputName = HTP


        INPUT_RESOURCE
        {
            ResourceName = Ore
            Ratio = 0.5
            FlowMode = STAGE_PRIORITY_FLOW
        }
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 30
        }
        OUTPUT_RESOURCE
        {
            ResourceName = HTP
            Ratio = 0.5
            DumpExcess = false
            FlowMode = STAGE_PRIORITY_FLOW
        }
    }
}


// Modify the modded part "ISRU" from the Lynx Rover Mod
@PART[Lynx_ISRU]:NEEDS[RealFuels,FelineUtilityRover]
{
    // Aerozine50 + NTO
    MODULE
    {
        name = ModuleResourceConverter
        ConverterName = Aerozine50+NTO
        StartActionName = Start ISRU [Aerozine50+NTO]
        StopActionName = Stop ISRU [Aerozine50+NTO]
        AutoShutdown = true
        TemperatureModifier
        {
            key = 0 100000
            key = 750 50000
            key = 1000 10000
            key = 1250 500
            key = 2000 50
            key = 4000 0
        }
        GeneratesHeat = true
        DefaultShutoffTemp = .8
        ThermalEfficiency
        {
            key = 0 0 0 0
            key = 500 0.1 0 0
            key = 1000 1.0 0 0
            key = 1250 0.1 0 0
            key = 3000 0 0 0
        }

        UseSpecialistBonus = true
        SpecialistEfficiencyFactor = 0.2
        SpecialistBonusBase = 0.05
        UseSpecialistHeatBonus = true
        SpecialistHeatFactor = 0.1
        ExperienceEffect = ConverterSkill
        EfficiencyBonus = 1
        resourceOutputName = Aerozine50+NTO

        INPUT_RESOURCE
        {
            ResourceName = Ore
            Ratio = 0.5
            FlowMode = STAGE_PRIORITY_FLOW
        }
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 30
        }
        OUTPUT_RESOURCE
        {
            ResourceName = Aerozine50
            Ratio = 0.225
            DumpExcess = false
            FlowMode = STAGE_PRIORITY_FLOW
        }
        OUTPUT_RESOURCE
        {
            ResourceName = NTO
            Ratio = 0.275
            DumpExcess = false
            FlowMode = STAGE_PRIORITY_FLOW
        }
    }
    // Kerosene + LqdOxygen
    MODULE
    {
        name = ModuleResourceConverter
        ConverterName = Kerosene+LqdOxygen
        StartActionName = Start ISRU [Kerosene+LqdOxygen]
        StopActionName = Stop ISRU [Kerosene+LqdOxygen]
        AutoShutdown = true
        TemperatureModifier
        {
            key = 0 100000
            key = 750 50000
            key = 1000 10000
            key = 1250 500
            key = 2000 50
            key = 4000 0
        }
        GeneratesHeat = true
        DefaultShutoffTemp = .8
        ThermalEfficiency
        {
            key = 0 0 0 0
            key = 500 0.1 0 0
            key = 1000 1.0 0 0
            key = 1250 0.1 0 0
            key = 3000 0 0 0
        }

        UseSpecialistBonus = true
        SpecialistEfficiencyFactor = 0.2
        SpecialistBonusBase = 0.05
        UseSpecialistHeatBonus = true
        SpecialistHeatFactor = 0.1
        ExperienceEffect = ConverterSkill
        EfficiencyBonus = 1
        resourceOutputName = Kerosene+LqdOxygen

        INPUT_RESOURCE
        {
            ResourceName = Ore
            Ratio = 0.5
            FlowMode = STAGE_PRIORITY_FLOW
        }
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 30
        }
        OUTPUT_RESOURCE
        {
            ResourceName = Kerosene
            Ratio = 0.225
            DumpExcess = false
            FlowMode = STAGE_PRIORITY_FLOW
        }
        OUTPUT_RESOURCE
        {
            ResourceName = LqdOxygen
            Ratio = 0.275
            DumpExcess = false
            FlowMode = STAGE_PRIORITY_FLOW
        }
    }

    // Ethanol75 + LqdOxygen
    MODULE
    {
        name = ModuleResourceConverter
        ConverterName = Ethanol75+LqdOxygen
        StartActionName = Start ISRU [Ethanol75+LqdOxygen]
        StopActionName = Stop ISRU [Ethanol75+LqdOxygen]
        AutoShutdown = true
        TemperatureModifier
        {
            key = 0 100000
            key = 750 50000
            key = 1000 10000
            key = 1250 500
            key = 2000 50
            key = 4000 0
        }
        GeneratesHeat = true
        DefaultShutoffTemp = .8
        ThermalEfficiency
        {
            key = 0 0 0 0
            key = 500 0.1 0 0
            key = 1000 1.0 0 0
            key = 1250 0.1 0 0
            key = 3000 0 0 0
        }


        UseSpecialistBonus = true
        SpecialistEfficiencyFactor = 0.2
        SpecialistBonusBase = 0.05
        UseSpecialistHeatBonus = true
        SpecialistHeatFactor = 0.1
        ExperienceEffect = ConverterSkill
        EfficiencyBonus = 1
        resourceOutputName = Ethanol75+LqdOxygen


        INPUT_RESOURCE
        {
            ResourceName = Ore
            Ratio = 0.5
            FlowMode = STAGE_PRIORITY_FLOW
        }
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 30
        }
        OUTPUT_RESOURCE
        {
            ResourceName = Ethanol75
            Ratio = 0.265
            DumpExcess = false
            FlowMode = STAGE_PRIORITY_FLOW
        }
        OUTPUT_RESOURCE
        {
            ResourceName = LqdOxygen
            Ratio = 0.235
            DumpExcess = false
            FlowMode = STAGE_PRIORITY_FLOW
        }
    }

    // HTP
    MODULE
    {
        name = ModuleResourceConverter
        ConverterName = HTP
        StartActionName = Start ISRU [HTP]
        StopActionName = Stop ISRU [HTP]
        AutoShutdown = true
        TemperatureModifier
        {
            key = 0 100000
            key = 750 50000
            key = 1000 10000
            key = 1250 500
            key = 2000 50
            key = 4000 0
        }
        GeneratesHeat = true
        DefaultShutoffTemp = .8
        ThermalEfficiency
        {
            key = 0 0 0 0
            key = 500 0.1 0 0
            key = 1000 1.0 0 0
            key = 1250 0.1 0 0
            key = 3000 0 0 0
        }


        UseSpecialistBonus = true
        SpecialistEfficiencyFactor = 0.2
        SpecialistBonusBase = 0.05
        UseSpecialistHeatBonus = true
        SpecialistHeatFactor = 0.1
        ExperienceEffect = ConverterSkill
        EfficiencyBonus = 1
        resourceOutputName = HTP


        INPUT_RESOURCE
        {
            ResourceName = Ore
            Ratio = 0.5
            FlowMode = STAGE_PRIORITY_FLOW
        }
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 30
        }
        OUTPUT_RESOURCE
        {
            ResourceName = HTP
            Ratio = 0.5
            DumpExcess = false
            FlowMode = STAGE_PRIORITY_FLOW
        }
    }
}
